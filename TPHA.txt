HA - TP01
ASA - TUASSL 2016

Preguntas hasta 2.4.2
1) Cuál es el archivo que identifica la versión de Centos del sistema. 
2) ¿Comparable a qué software de debian es yum?
3) ¿Utiliza systemd o init? 
4) ¿Cómo verifica que los nodos están efectivamente sincronizando con NTP? 
5) ¿Qué comandos utiliza para iniciar y habilitar el servicio de NTP?
6) Para qué sirve cada uno de los paquetes instalados en la sección 2.5. Obtenga la información usando comandos del sistema. 
7) ¿Cuál es la diferencia entre el método utilizado en 2.4.2 y el uso de ssh-key-gen y ssh-copy-id?
8)¿Para qué sirven los comandos screen y nohup?
9)¿Cómo verifica que determinado paquete ya se encuentra instalado?


Preguntas hasta 2.6.3
10) ¿Existen nuevos servicios relacionados al software instalado en 2.5?
11) ¿Qué repositorios están configurados en cada nodo?
12) Una vez instalado el software de cluster ¿cómo puede verificar los nuevos servicios del sistema?
13) En la sección 2.6 indica hacer cambios en el firewall. ¿Por qué cree que es necesario?¿Cómo puede darse cuenta qué firewall se encuentra en uso? ¿Qué puertos son requeridos para el cluster? 
14) Sobre el software pcs, en la sección 2.6.2. ¿Cuál es el shell de la cuenta de usuario creada para los fines de pcs?¿Qué efecto tiene dicho shell? 
¿Hay otros usuarios con ese shell definido?
15) ¿Cuál es el objetivo del link simbólico creado en la sección 2.6.2?
16) Observe el archivo de configuración creado por pcs para Corosync

Preguntas a partir de sección 3 y hasta 5.1 (no proceder con 5.2 aún 27/10)
17) Una vez iniciado los servicios de cluster con pcs verifique el estado de los servicios involucrados con systemctl. Guarde las salidas: observe errores e información provista por los servicios. Sobre qué aspectos del cluster proveen información los servicios. 
18) Reinicie los nodos y verifique que los servicios no se encuentran en ejecución. Reinicie los servicios esta vez utilizando systemctl. 
19) Ejecute las verificaciones en las secciones 4.2 y 4.3 en ambos nodos, observe diferencias. 
20) En la sección 4.3 identifique cada uno de los procesos hijos de pacemakerd. Investigue su funcionalidad brevemente para entender qué parte del cluster implementan. 
21) ¿A qué paquete pertenece el comando journalctl? ¿Los errores pertenecen todos a STONITH?
22) Observe el log de Corosync

Recursos a partir de 5.2 a 6.8 (inclusive)
23) Los recursos del cluster son la razón de ser del cluster. Son los servicios altamente disponibles. Existen distintas formas de definir los servicios y darle herramientas al cluster para controlarlos. Investigue brevemente OCF, LSB y systemd. ¿Estas formas de definir servicios tiene que ver sólo con el cluster? 
24) Ubique dentro de /usr/lib/ocf/resource.d/ el script correspondiente a la IP 
configurada en 5.2. Observe brevemente su contenido, en particular las líneas finales que procesan la acción a realizar con el servicio. 
25) Observe el estado del cluster y la nueva IP configurada en la interfaz de red eth0 (comando ip). 
26) En la sección 5.3 antes de realizar el failover observe el estado del recurso creado, y mantenga un ping desde un lugar remoto para observar lo que sucede con el recurso. ¿Cuán apreciable es el tiempo de downtime del recurso?
27) ¿A qué recursos afecta el resource-stickiness configurado en 5.4?
28) Lea atentamente y comente la nota que dice "Important" en la sección 6.1. Verifique el estado del servicio httpd. 
29) Ubique y revise brevemente el script que utiliza el cluster para administrar el recurso apache en la sección 6.4. 
30) Una vez creado el recurso http (sección 6.4), OBSERVE en qué nodo se inició el recurso web y dónde se encuentra el recurso IP. 
31) ¿Qué sucedió con los recursos al establecer la restricción en la sección 6.5? ¿En qué otra situación los recursos se han migrado durante el transcurso de la guía?
32) Entre la sección 6.5 y 6.8 se establecen restricciones entre los recursos para lograr ciertos efectos. Una vez alcanzada la sección 6.8 revise nuevamente los efectos de cada uno de los pasos realizados a partir de 6.5 





